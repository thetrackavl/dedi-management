<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>
        <section id="minimal-statistics">
            <div class="row">
              <div class="col-12 mt-3 mb-1">
                <h4 class="text-uppercase">Dedicated Server Management</h4>
                <p>Server Summary.</p>
              </div>
            </div>
            <div class="row" id="server-list">
                <dedi-card
                    v-for="dedi in dedis"
                    :key="dedi.dediId"
                    :server_name="dedi.serverName"
                    :mod_name="dedi.modName"
                    :server_session="dedi.serverSession"
                    :server_session_time_left="dedi.serverSessionTimeLeft"
                    :server_number_drivers="dedi.serverNumberDrivers"
                    :server_up="dedi.serverUp"></dedi-card>
            </div>
        </section>


        <script type="text/x-template" id="dedi-card-template">
            <dedi-online
                v-if="server_up"
                :server_name="server_name"
                :mod_name="mod_name"
                :server_session="server_session"
                :server_session_time_left="server_session_time_left"
                :server_number_drivers="server_number_drivers"
            ></dedi-online>
            <dedi-offline
                v-else
                :server_name="server_name"
            ></dedi-offline>

        </script>

        <script type="text/x-template" id="dedi-online-template">
            <div class="col-xl-3 col-sm-6 col-12">
                <div class="card">
                  <div class="card-content">
                    <div class="card-body">
                      <div class="media d-flex">
                        <dedi-name :server_name=server_name :mod_name=mod_name></dedi-name>
                        <dedi-session :server_session=server_session :server_session_time_left=server_session_time_left></dedi-session>
                        <dedi-driver :server_number_drivers=server_number_drivers></dedi-driver>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </script>

        <script type="text/x-template" id="dedi-offline-template">
            <div class="col-xl-3 col-sm-6 col-12">
                <div class="card" style="background-color:#A8B0B3">
                  <div class="card-content">
                    <div class="card-body">
                      <div class="media d-flex">
                        <div class="media-body text-center">
                            <h4>{{server_name}} is OFFLINE</h4>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </script>

        <script type="text/x-template" id="dedi-name-template">
            <div class="media-body text-left">
                <h4>{{server_name}}</h4>
                <span>{{mod_name}}</span>
                <span><button type="button" class="btn btn-outline-warning">Restart</button></span>
            </div>
        </script>


        <script type="text/x-template" id="dedi-session-template">
            <div class="media-body text-center">
                <h4>{{server_session}}</h4>
                <span>{{server_session_time_left}} left</span>
                <span><button type="button" class="btn btn-outline-secondary">Restart Race</button></span>
              </div>
        </script>


        <script type="text/x-template" id="dedi-driver-template">
            <div class="media-body text-center">
                <h4>{{server_number_drivers}} Drivers</h4>
                <span><button type="button" class="btn btn-outline-success">Next Session</button></span>
                <span><button type="button" class="btn btn-outline-danger">Red Flag</button></span>
              </div>
        </script>


        <script src="https://unpkg.com/vue@3"></script>
        <script src="https://unpkg.com/vuex"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
        <script src="app.js"></script>
    </body>
</html>